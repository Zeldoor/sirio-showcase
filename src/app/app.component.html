<!-- Header Globale -->
<header class="showcase-header">
  <button class="menu-toggle" (click)="toggleSidebar()">
    <span class="material-icons">menu</span>
  </button>
  <div class="header-brand cursor-pointer" (click)="navigateTo('')">
    <span class="brand-icon material-icons">widgets</span>
    <span class="brand-name">ngx-sirio-lib</span>
    <span class="brand-version cursor-default" (click)="$event.stopPropagation()">v{{ version }}</span>
  </div>
  <div class="header-spacer"></div>
  <a class="header-link" href="https://www.inps.design/" target="_blank" rel="noopener">
    <span class="material-icons">open_in_new</span>
    <span class="link-text">INPS Design</span>
  </a>
</header>

<!-- Sidebar Overlay (mobile) -->
<div class="sidebar-overlay" [class.visible]="sidebarOpen" (click)="closeSidebar()">
</div>

<!-- Sidebar Navigazione -->
<aside class="sidebar" [class.open]="sidebarOpen">
  <!-- Ricerca -->
  <div class="sidebar-search">
    <span class="material-icons search-icon">search</span>
    <input type="text" placeholder="Cerca componente..." [(ngModel)]="searchTerm" (input)="onSearch()">
  </div>

  <!-- Categorie -->
  <nav class="sidebar-nav">
    <div *ngFor="let category of filteredCategories" class="nav-category">
      <button class="category-toggle" (click)="toggleCategory(category.id)">
        <span class="material-icons cat-icon">{{ category.icon }}</span>
        <span class="cat-name">{{ category.name }}</span>
        <span class="cat-count">{{ category.components.length }}</span>
        <span class="material-icons expand-icon" [class.rotated]="category.expanded">
          expand_more
        </span>
      </button>

      <ul class="component-list" [class.expanded]="category.expanded">
        <li *ngFor="let comp of category.components">
          <a class="comp-link" [class.active]="activeComponentId === comp.id" (click)="navigateTo(comp.id)"
            [title]="comp.description">
            {{ comp.name }}
          </a>
        </li>
      </ul>
    </div>
  </nav>
</aside>

<!-- Contenuto Principale -->
<main class="main-content">
  <router-outlet></router-outlet>
</main>